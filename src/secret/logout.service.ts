import {Storage} from "@ionic/storage";import {LoginService} from "../pages/login/login.service";import {Events, Platform} from "ionic-angular";import {Injectable} from "@angular/core";import {Device} from '@ionic-native/device';import {CommonService} from "../core/common.service";import {JPush} from "@jiguang-ionic/jpush";import {env} from "../app/app.constants";@Injectable()export class LogoutService {    constructor(private storage: Storage, private loginSer: LoginService,                private device: Device, private commonSer: CommonService,                public events: Events, private jPush: JPush) {    }    logout() {        if (env === "localhost") {            this.storage.clear();            window.localStorage.clear();            this.events.publish('toLogin');            return        }        this.jPush.getRegistrationID().then((regiID) => {            if (regiID) {                this.loginSer.sgmwLogout(regiID).subscribe(                    (res) => {                        this.storage.clear();                        window.localStorage.clear();                        this.events.publish('toLogin');                        this.commonSer.toast(res.message);                    }                );            } else {                this.storage.clear();                window.localStorage.clear();                this.events.publish('toLogin');            }        })    }}