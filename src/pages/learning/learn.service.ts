import {HttpClient} from "@angular/common/http";import {Injectable} from "@angular/core";import {Observable} from "rxjs/Observable";import {SERVER_API_URL} from "../../app/app.constants";import {CommonService} from "../../core/common.service";import {DataFormatService} from "../../core/dataFormat.service";import {HTTP} from "@ionic-native/http";@Injectable()export class LearnService {    constructor(private http: HttpClient, private commonSer: CommonService,                private dataFormatSer: DataFormatService, private nativeHttp: HTTP) {    }    //获取课程列表    GetProductList(data): Observable<any> {        return this.http.post(SERVER_API_URL + '/EProduct/GetProductList', data)    }    GetProductListByNative(data) {        return this.nativeHttp.post(SERVER_API_URL + '/EProduct/GetProductList', data, null)    }    //课程详情    GetProductById(params): Observable<any> {        return this.http.get(SERVER_API_URL + '/EProduct/GetProductById?pid=' + params);    }    GetProductByIdByNative(params) {        return this.nativeHttp.get(SERVER_API_URL + '/EProduct/GetProductById?pid=' + params, null, null);    }    //章节信息    GetAdminChapterListByProductID(params): Observable<any> {        return this.http.get(SERVER_API_URL + '/CourseSeries/GetAdminChapterListByProductID?id=' + params);    }    GetAdminChapterListByProductIDByNative(params) {        return this.nativeHttp.get(SERVER_API_URL + '/CourseSeries/GetAdminChapterListByProductID?id=' + params, null, null);    }    //关注教师    SaveSubscribe(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/EStudentSubscribe/SaveSubscribe' + this.dataFormatSer.toQuery(data));    }    SaveSubscribeByNative(data) {        return this.nativeHttp.get(SERVER_API_URL + '/EStudentSubscribe/SaveSubscribe' + this.dataFormatSer.toQuery(data), null, null);    }    //取消关注教师    CancelSubscribe(params): Observable<any> {        return this.http.get(SERVER_API_URL + '/EStudentSubscribe/CancelSubscribe?TopicID=' + params);    }    CancelSubscribeByNative(params) {        return this.nativeHttp.get(SERVER_API_URL + '/EStudentSubscribe/CancelSubscribe?TopicID=' + params, null, null);    }    //相关课程    GetRelationProductList(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/EProduct/GetRelationProductList' + this.dataFormatSer.toQuery(data));    }    GetRelationProductListByNative(data) {        return this.nativeHttp.get(SERVER_API_URL + '/EProduct/GetRelationProductList' + this.dataFormatSer.toQuery(data), null, null);    }    //获取评价信息    GetCommentSum(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/EComment/GetCommentSum' + this.dataFormatSer.toQuery(data));    }    GetCommentSumByNative(data) {        return this.nativeHttp.get(SERVER_API_URL + '/EComment/GetCommentSum' + this.dataFormatSer.toQuery(data), null, null);    }    //报名课程    BuyProduct(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/EProduct/BuyProduct' + this.dataFormatSer.toQuery(data));    }    BuyProductByNative(data) {        return this.nativeHttp.get(SERVER_API_URL + '/EProduct/BuyProduct' + this.dataFormatSer.toQuery(data), null, null);    }    //收藏课程    SaveCollectionByCSID(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/EComment/SaveCollectionByCSID' + this.dataFormatSer.toQuery(data));    }    SaveCollectionByCSIDByNative(data) {        return this.nativeHttp.get(SERVER_API_URL + '/EComment/SaveCollectionByCSID' + this.dataFormatSer.toQuery(data), null, null);    }    //取消收藏    CancelCollectionByCSID(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/EComment/CancelCollectionByCSID' + this.dataFormatSer.toQuery(data));    }    CancelCollectionByCSIDByNative(data) {        return this.nativeHttp.get(SERVER_API_URL + '/EComment/CancelCollectionByCSID' + this.dataFormatSer.toQuery(data), null, null);    }    //提交评价    SaveComment(data): Observable<any> {        return this.http.post(SERVER_API_URL + '/EComment/SaveComment', data)    }    SaveCommentByNative(data) {        return this.nativeHttp.post(SERVER_API_URL + '/EComment/SaveComment', data, null);    }    //查询评价    GetComment(data): Observable<any> {        return this.http.post(SERVER_API_URL + '/EComment/GetComment', data)    }    GetCommentByNative(data) {        return this.nativeHttp.post(SERVER_API_URL + '/EComment/GetComment', data, null);    }    //更新学习进度    SaveStudy(data): Observable<any> {        return this.http.get(SERVER_API_URL + '/StudentStudy/SaveStudy', data)    }    //初始化作业    examByStudy(data): Observable<any> {        return this.http.post(SERVER_API_URL + '/study/examByStudy' + this.dataFormatSer.toQuery(data),null)    }}