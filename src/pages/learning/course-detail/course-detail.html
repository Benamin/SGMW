<ion-header>
    <ion-navbar>
        <ion-title>{{product.detail?.Title}}</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <div class="banner">
        <div class="content" *ngIf="!product.videoPath">
            <div class="course-name">
                {{product.detail?.Description}}
            </div>
            <div class="course-desc">
                <span>20课时</span>
                <span>评价</span>
                <span>收藏</span>
            </div>
        </div>
        <div class="content video" *ngIf="product.videoPath">
            <video width="100%" height="100%" [src]="product.videoPath" controls="controls">
                您的浏览器不支持 html5。
            </video>
        </div>
    </div>
    <navbar [list]="navbarList"></navbar>
    <div class="space"></div>
    <div class="item">
        <p>简介</p>
        <div class="introduction">
            {{product.detail?.Description}}
        </div>
    </div>
    <div class="space"></div>
    <div class="item">
        <p>章节</p>
        <div>
            <ng-container *ngFor="let item of product.chapter?.Course?.children">
                <p>{{item.title}}</p>
                <p *ngIf="item.children">
                    <tree-list [treeList]="item.children" (fileData)="getInfo($event)" ></tree-list>
                </p>
            </ng-container>
        </div>
    </div>
    <div class="space"></div>
    <div class="item">
        <p>教师
            <span (click)="teachDetail()" float-end class="look">查看</span>
        </p>
        <div class="teacher-info" *ngFor="let item of  product.detail?.Teachers">
            <div>
                <img [src]="item.HeadPhoto">
            </div>
            <div>
                <p>{{item.UserName}}</p>
                <p>{{item.Position}}</p>
            </div>
            <div>
                <span class="focus">关注</span>
            </div>
        </div>
    </div>
    <div class="space"></div>
    <div class="item">
        <p>课程评价<span float-end class="look" (click)="goTeacher('课程评价')">更多</span></p>
        <div class="course-comment">
            <div>4.0</div>
            <div>
                <p>1902个评价</p>
            </div>
            <div>
                <p>4.0</p>
                <p>课程适用</p>
            </div>
            <div>
                <p>4.0</p>
                <p>通俗易懂</p>
            </div>
            <div>
                <p>4.0</p>
                <p>逻辑清晰</p>
            </div>
        </div>
    </div>
    <div class="space"></div>
    <div class="item">
        <p>教师评价<span (click)="goTeacher('教师评价')" float-end class="look">更多</span></p>
        <div class="teacher-comment">
            <div>4.0</div>
            <div>
                <p>1902个评价</p>
            </div>
            <div>
                <p>4.0</p>
                <p>课程适用</p>
            </div>
            <div>
                <p>4.0</p>
                <p>通俗易懂</p>
            </div>
            <div>
                <p>4.0</p>
                <p>逻辑清晰</p>
            </div>
        </div>
    </div>
    <div class="space"></div>
    <div class="item">
        <p>相关课程</p>
        <course-list [list]="learnList" (done)="goCourse($event)"></course-list>
    </div>
</ion-content>

<ion-footer class="course-footer">
    <ion-toolbar *ngIf="!product.detail?.IsBuy" (click)="sign()">
        <ion-buttons tappable>立即报名</ion-buttons>
    </ion-toolbar>
    <ion-toolbar *ngIf="product.detail?.IsBuy">
        <ion-buttons tappable (click)="sign()">立即学习</ion-buttons>
    </ion-toolbar>
    <ion-toolbar *ngIf="!product.detail?.IsCollection" (click)="collection()">
        <ion-buttons>收藏</ion-buttons>
    </ion-toolbar>

    <ion-toolbar *ngIf="product.detail?.IsCollection" (click)="cancleCollection()">
        <ion-buttons>已收藏</ion-buttons>
    </ion-toolbar>

</ion-footer>

<div *ngIf="signObj.isSign" class="sign">
    <img src="../assets/imgs/course/sign-success.png">
    <p>报名成功</p>
</div>
<div *ngIf="collectionObj.isCollection" class="collection">
    <img src="../assets/imgs/course/collection-success.png">
    <p>收藏成功</p>
</div>
