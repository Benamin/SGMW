<ion-header>
    <ion-navbar>
        <ion-title>通知中心</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ul class="nav-type">
        <li *ngFor="let item of navliArr" (click)="changeCheckType(item.lable)" [ngClass]="{'actived': checkType == item.lable}">
            <div>{{ item.text }}</div>
            <span class="item-line"></span>
        </li>
    </ul>
    
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingText="下拉刷新"
                               refreshingSpinner="bubbles">
        </ion-refresher-content>
    </ion-refresher>
		<div *ngFor="let item of notificationList">
			<div class="main" tappable (click)="goDetail(item)">
			    <p>{{item.CrateTime}}</p>
			    <div class="noti" *ngIf="item.Type !== 22">
			        <span *ngIf="item.Status == 0" class="tips"></span>
			        <p>{{item.Title}}</p>
			        <p>{{item.SubTitle}}</p>
			    </div>
					<div class="interaction" *ngIf="item.Type === 22">
						<span *ngIf="item.Status == 0" class="tips"></span>
						<img class="avatar" src="{{ item.ReplyHeadPhoto }}" alt="头像">
					  <div class="right-box">
							<div class="username">{{ item.ReplyPeopleName }}</div>
							<div class="desc">{{ item.Text }}</div>
							<div class="bottom-info">
								<span>回复了你的评论</span>
								<span class="title">{{ item.Title }}</span>
							</div>
						</div>
					</div>
			</div>
		</div>
    
    <ion-list text-center style="margin-top: 10rem" *ngIf="page.isLoad && notificationList.length == 0">
        <img style="width: 60%;" src="./assets/imgs/no-data.png" alt="">
        <p text-center style="color: #666666;font-size: 16px">
            暂无数据
        </p>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content
                loadingSpinner="bubbles"
                loadingText="加载中"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
