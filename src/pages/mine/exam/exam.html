<ion-header>
    <ion-navbar>
        <ion-title>我的作业</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingText="下拉刷新"
                               refreshingSpinner="bubbles">
        </ion-refresher-content>
    </ion-refresher>
    <navbar [list]="navbarList" [select]="1" (done)="changeType($event)"></navbar>
    <div class="exam">
        <ng-container *ngFor="let item of examList">
            <div class="space"></div>
            <div class="item" tappable (click)="goExam(item)">
                <span *ngIf="page.StudyState == 1" class="studyState studyState1">未开始</span>
                <span *ngIf="page.StudyState == 2" class="studyState studyState2">进行中</span>
                <span *ngIf="page.StudyState == 3" class="studyState studyState3">已完成</span>
                <p class="courseName">{{item.CourseName}}</p>
                <p class="eName">
                    <img src="./assets/imgs/tabs/tab3_off@3x.png">
                    <ng-container *ngIf="item.EType == 3">
                        预习作业
                    </ng-container>
                    <ng-container *ngIf="item.EType == 4">
                        课后作业
                    </ng-container>
                     - {{item.EName}}
                </p>
                <p *ngIf="page.StudyState == 3" class="split"></p>
                <p *ngIf="page.StudyState == 3">
                    <span class="examScore">作业得分：{{item.TotalScore}}</span>
                    <span class="examTime">提交时间：{{item.ExamEnd | date:'MM-dd HH:mm:ss'}}</span>
                </p>

            </div>
        </ng-container>
    </div>
    <ion-list text-center style="margin-top: 10rem" *ngIf="examList.length == 0 && IsLoad">
        <img style="width: 60%;" src="./assets/imgs/no-data.png" alt="">
        <p text-center style="color: #666666;font-size: 16px">
            暂无数据
        </p>
    </ion-list>
    <ion-infinite-scroll *ngIf="this.page.TotalItems > this.examList.length" (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content
                loadingSpinner="bubbles"
                loadingText="加载中"></ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <p class="list-footer-page"
       *ngIf="IsLoad && this.page.TotalItems == this.examList.length && this.page.TotalItems > 5">
        没有更多了~~~</p>
</ion-content>
