<ion-header>
    <ion-navbar>
        <ion-title></ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingText="下拉刷新" refreshingSpinner="bubbles">
        </ion-refresher-content>
    </ion-refresher>
    <div class="mine">
        <div class="logo">
            <img class="toolbar-img" src="./assets/imgs/home/logo@3x.png">
        </div>
        <div class="mine-info">
            <div class="info-item">
                <div style="position: relative">
                    <div class="mask1">
                        <img class="img3" src="{{mineInfo?.HeadPhoto}}" alt="">
                    </div>
                </div>
                <div class="info-name">
                    <p>
                        <span>{{mineInfo?.UserName}}</span>
                        <span *ngIf="userInfo?.TitleInfo?.ForumTitle" class="forumTitle">{{userInfo?.TitleInfo?.ForumTitle}}</span>
                        <span class="credit">积分：{{(userInfo?.TitleInfo?.Credit).toFixed(0) || 0}}</span>
                    </p>
                    <p class="badge" style="margin-top: 6px">
                        <span class="badgeSpan" *ngFor="let badge of userInfo?.Badges">
                            <img [src]="badge.BadgeIcon">
                            <span>{{badge.BadgeName}}</span>
                        </span>
                    </p>
                </div>
            </div>
            <div class="info-item item-type">
                <div tappable (click)="goToCourse()">
                    <p>{{number?.CourseCount || '0'}}</p>
                    <p>课程</p>
                </div>
                <div tappable (click)="goExam()">
                    <p>{{number?.WorkCount || '0'}}</p>
                    <p>作业</p>
                </div>
                <div tappable (click)="goMyForum()">
                    <p>{{number?.PostCount || '0'}}</p>
                    <p>帖子</p>
                </div>
                <div tappable (click)="goToCollection()">
                    <p>{{number?.CollectionCount || '0'}}</p>
                    <p>收藏</p>
                </div>
            </div>

        </div>
    </div>
    <div class="mine-list">
        <div class="item" tappable (click)="goMyFollowsComponent()">
            <div class="left">
                <img src="./assets/imgs/mine/p41_guanzhu.png">
            </div>
            <div class="middle">我的关注</div>
            <div class="right">
                <ion-icon name="arrow-forward"></ion-icon>
            </div>
        </div>
<!--        <div class="item" tappable (click)="goMyThumbsUpComponent()">-->
<!--            <div class="left">-->
<!--                <img src="./assets/imgs/mine/p41_likr.png">-->
<!--            </div>-->
<!--            <div class="middle">我的点赞</div>-->
<!--            <div class="right">-->
<!--                <ion-icon name="arrow-forward"></ion-icon>-->
<!--            </div>-->
<!--        </div>-->
        <div class="item" tappable (click)="goToNoti()">
            <div class="left">
                <img src="./assets/imgs/mine/notifation.png">
            </div>
            <div class="middle">通知中心</div>
            <div class="right">
                <ion-icon name="arrow-forward"></ion-icon>
            </div>
        </div>
        <div class="item" tappable (click)="goMedal()">
                <div class="left">
                    <img src="./assets/imgs/mine/srats.png">
                </div>
                <div class="middle">设置勋章</div>
                <div class="right">
                    <ion-icon name="arrow-forward"></ion-icon>
                </div>
            </div>
        <!-- <div class="item" tappable (click)="goToFile()">
            <div class="left">
                <img src="./assets/imgs/mine/notifation.png">
            </div>
            <div class="middle">下载管理</div>
            <div class="right">
                <ion-icon name="arrow-forward"></ion-icon>
            </div>
        </div> -->
        <div class="item" tappable (click)="openUrl()">
            <div class="left">
                <img src="./assets/imgs/mine/yjfk.png">
            </div>
            <div class="middle">意见反馈</div>
            <div class="right">
                <ion-icon name="arrow-forward"></ion-icon>
            </div>
        </div>
        <div class="item" tappable (click)="checkVersion()">
            <div class="left">
                <img src="./assets/imgs/mine/gyyy.png">
            </div>
            <div class="middle">关于应用
                <span float-end>正式版{{version}}</span></div>
            <div class="right">
                <ion-icon name="arrow-forward"></ion-icon>
            </div>
        </div>
        <div class="item" tappable (click)="logoutApp()">
            <div class="left">
                <img src="./assets/imgs/mine/logout.png">
            </div>
            <div class="middle">退出登录</div>
            <div class="right">
                <ion-icon name="arrow-forward"></ion-icon>
            </div>
        </div>
    </div>

</ion-content>

<ng-container *ngIf="appVersionInfo.UpdateTips">
    <update-app (done)="appVersionInfo.UpdateTips = false" [AppUrl]="appVersionInfo.AppUrl"
        [UpdateText]="appVersionInfo.UpdateText"></update-app>
</ng-container>
